<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="loginTitle">Login - Apartment Management</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
    <link rel="apple-touch-icon" href="assets/favicon.svg" />
    <link rel="manifest" href="site.webmanifest" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/responsive.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="header-main">
        <h1 data-i18n="appTitle">Apartment Management</h1>
        <p class="subtitle" data-i18n="appSubtitle">
          Manage contracts, deposits, debts and payments with ease.
        </p>
      </div>
      <div class="header-controls">
        <div class="control header-buttons">
          <button type="button" id="themeToggleBtn" class="button-secondary">Dark</button>
          <button type="button" id="languageToggleBtn" class="button-secondary">En</button>
        </div>
      </div>
    </header>

    <!-- Login Page -->
    <section id="loginView" class="view active login-view">
      <div class="login-container">
        <div class="login-card card">
          <h2 data-i18n="loginTitle">Login</h2>
          <p class="login-subtitle" data-i18n="loginSubtitle">Enter your credentials to access the system</p>
          <form id="loginForm" class="form-grid">
            <div class="field">
              <label for="loginEmail" data-i18n="email">Email</label>
              <input
                type="email"
                id="loginEmail"
                name="email"
                required
                placeholder="your@email.com"
              />
            </div>
            <div class="field password-field">
              <label for="loginPassword" data-i18n="password">Password</label>
              <div class="password-input-wrapper">
                <input
                  type="password"
                  id="loginPassword"
                  name="password"
                  required
                  placeholder="Enter your password"
                />
                <button
                  type="button"
                  class="password-toggle button-secondary button-small"
                  data-target="loginPassword"
                  aria-label="Toggle password visibility"
                >
                  <svg
                    class="icon-eye-open"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path
                      d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"
                    />
                  </svg>
                  <svg
                    class="icon-eye-closed"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path
                      d="M2.1 3.51 3.52 2.1l18.38 18.38-1.41 1.41-2.25-2.25C16.71 20.2 14.43 21 12 21 7 21 2.73 17.89 1 14c.73-1.64 1.9-3.12 3.36-4.35L2.1 3.51zM7.1 8.51 8.9 10.3A3.99 3.99 0 0 0 12 16c.36 0 .7-.05 1.03-.14l1.52 1.52A6 6 0 0 1 12 18a6 6 0 0 1-6-6c0-1.1.3-2.13.83-3.03l.27-.46zM12 5c5 0 9.27 3.11 11 7-.53 1.19-1.3 2.29-2.26 3.25l-1.42-1.42A9.02 9.02 0 0 0 20.99 12C19.27 8.11 15 5 12 5c-.87 0-1.72.12-2.54.34L8.01 4.89A10.96 10.96 0 0 1 12 5z"
                    />
                  </svg>
                </button>
              </div>
            </div>
            <div id="loginError" class="error-message" style="display: none;"></div>
            <button type="submit" class="button-primary" data-i18n="loginButton">Login</button>
            <div class="login-footer">
              <p data-i18n="noAccount">Don't have an account?</p>
              <button type="button" id="showSignup" class="button-link" data-i18n="signupLink">Sign Up</button>
            </div>
          </form>
        </div>

        <!-- Sign Up Card -->
        <div class="login-card card" id="signupCard" style="display: none;">
          <h2 data-i18n="signupTitle">Sign Up</h2>
          <p class="login-subtitle" data-i18n="signupSubtitle">Create a new account to get started</p>
          <form id="signupForm" class="form-grid">
            <div class="field">
              <label for="signupFullName">Full name</label>
              <input
                type="text"
                id="signupFullName"
                name="full_name"
                required
                placeholder="Florend Ramusa"
              />
            </div>
            <div class="field">
              <label for="signupEmail" data-i18n="email">Email</label>
              <input
                type="email"
                id="signupEmail"
                name="email"
                required
                placeholder="florend@example.com"
              />
            </div>
            <div class="field">
              <label for="signupPhone">Phone</label>
              <input
                type="tel"
                id="signupPhone"
                name="phone"
                placeholder="+383-xx-xxx-xxx"
              />
            </div>
            <div class="field password-field">
              <label for="signupPassword" data-i18n="password">Password</label>
              <div class="password-input-wrapper">
                <input
                  type="password"
                  id="signupPassword"
                  name="password"
                  required
                  placeholder="Create a password (min 6 characters)"
                  minlength="6"
                />
                <button
                  type="button"
                  class="password-toggle button-secondary button-small"
                  data-target="signupPassword"
                  aria-label="Toggle password visibility"
                >
                  <svg
                    class="icon-eye-open"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path
                      d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"
                    />
                  </svg>
                  <svg
                    class="icon-eye-closed"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path
                      d="M2.1 3.51 3.52 2.1l18.38 18.38-1.41 1.41-2.25-2.25C16.71 20.2 14.43 21 12 21 7 21 2.73 17.89 1 14c.73-1.64 1.9-3.12 3.36-4.35L2.1 3.51zM7.1 8.51 8.9 10.3A3.99 3.99 0 0 0 12 16c.36 0 .7-.05 1.03-.14l1.52 1.52A6 6 0 0 1 12 18a6 6 0 0 1-6-6c0-1.1.3-2.13.83-3.03l.27-.46zM12 5c5 0 9.27 3.11 11 7-.53 1.19-1.3 2.29-2.26 3.25l-1.42-1.42A9.02 9.02 0 0 0 20.99 12C19.27 8.11 15 5 12 5c-.87 0-1.72.12-2.54.34L8.01 4.89A10.96 10.96 0 0 1 12 5z"
                    />
                  </svg>
                </button>
              </div>
            </div>
            <div class="field password-field">
              <label for="signupConfirmPassword" data-i18n="confirmPassword">Confirm Password</label>
              <div class="password-input-wrapper">
                <input
                  type="password"
                  id="signupConfirmPassword"
                  name="confirmPassword"
                  required
                  placeholder="Confirm your password"
                />
                <button
                  type="button"
                  class="password-toggle button-secondary button-small"
                  data-target="signupConfirmPassword"
                  aria-label="Toggle password visibility"
                >
                  <svg
                    class="icon-eye-open"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path
                      d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"
                    />
                  </svg>
                  <svg
                    class="icon-eye-closed"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path
                      d="M2.1 3.51 3.52 2.1l18.38 18.38-1.41 1.41-2.25-2.25C16.71 20.2 14.43 21 12 21 7 21 2.73 17.89 1 14c.73-1.64 1.9-3.12 3.36-4.35L2.1 3.51zM7.1 8.51 8.9 10.3A3.99 3.99 0 0 0 12 16c.36 0 .7-.05 1.03-.14l1.52 1.52A6 6 0 0 1 12 18a6 6 0 0 1-6-6c0-1.1.3-2.13.83-3.03l.27-.46zM12 5c5 0 9.27 3.11 11 7-.53 1.19-1.3 2.29-2.26 3.25l-1.42-1.42A9.02 9.02 0 0 0 20.99 12C19.27 8.11 15 5 12 5c-.87 0-1.72.12-2.54.34L8.01 4.89A10.96 10.96 0 0 1 12 5z"
                    />
                  </svg>
                </button>
              </div>
            </div>
            <div class="field">
              <label for="signupPreferredLanguage">Preferred language</label>
              <select id="signupPreferredLanguage" name="preferred_language">
                <option value="en">English</option>
                <option value="sq">Albanian</option>
              </select>
            </div>
            <div class="field">
              <label for="signupPreferredCurrency">Preferred currency</label>
              <select id="signupPreferredCurrency" name="preferred_currency">
                <option value="EUR">Euro (â‚¬)</option>
                <option value="USD">US Dollar ($)</option>
              </select>
            </div>
            <div class="field">
              <label for="signupRole">Sign up as</label>
              <select id="signupRole" name="role">
                <option value="landlord">Property Owner / Landlord</option>
                <option value="tenant">Tenant</option>
              </select>
            </div>
            <div class="field">
              <label for="signupThemeMode">Theme mode</label>
              <select id="signupThemeMode" name="theme_mode">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
              </select>
            </div>
            <div id="signupError" class="error-message" style="display: none;"></div>
            <button type="submit" class="button-primary" data-i18n="signupButton">Sign Up</button>
            <div class="login-footer">
              <p data-i18n="haveAccount">Already have an account?</p>
              <button type="button" id="showLogin" class="button-link" data-i18n="loginLink">Login</button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <section id="notificationArea" aria-live="polite"></section>

    <footer class="app-footer">
      <p data-i18n="footerNote">
        Powered by Florend Ramusa. Built for property managers and tenants.
      </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" crossorigin="anonymous"></script>
    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
  </body>
</html>

